{"version":3,"sources":["logo.svg","chrom-utils.js","data-utils.js","VariantTable.js","App.js","reportWebVitals.js","index.js"],"names":["CHROMS","chr2Abs","chrName","pos","chr","filter","v","Math","min","parseLocation","str","chromNames","map","c","name","includes","ss","split","n","length","posAbs","parseInt","PAGE_SIZE","VariantTable","props","state","showFilter","loading","variants","displayedVariants","tablePage","loadingVariantsCalled","this","nextPage","bind","previousPage","toggleFilter","filterChange","toggleDetails","loadVariants","setState","prevState","event","preventDefault","variantId","target","dataset","id","forEach","filtertype","value","applyFilter","undefined","locFrom","locTo","vcfFile","TabixIndexedFile","filehandle","RemoteFile","tbiFilehandle","getHeader","then","header","tbiVCFParser","VCF","dataPromises","chrom","dataPromise","getLines","line","vcfRecord","parseLine","push","info","order","POS","md5","substring","CHROM","chromOrder","start","end","END","SVLEN","type","SVTYPE","showDetails","vcfRecordToJson","Promise","all","values","className","CircularProgress","color","width","height","variantRows","variantsToDisplay","sort","a","b","slice","variant","index","format","href","onClick","infos","property","colSpan","navButtons","message","htmlFor","onChange","placeholder","scope","React","Component","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.1f21c3ac.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","\n\nexport const CHROMS = [\n  {\n    \"name\": \"chr1\",\n    \"order\": 1,\n    \"length\": 248956422,\n    \"cumPos\": 0,\n  },\n  {\n    \"name\": \"chr2\",\n    \"order\": 2,\n    \"length\": 242193529,\n    \"cumPos\": 248956422,\n  },\n  {\n    \"name\": \"chr3\",\n    \"order\": 3,\n    \"length\": 198295559,\n    \"cumPos\": 491149951,\n  },\n  {\n    \"name\": \"chr4\",\n    \"order\": 4,\n    \"length\": 190214555,\n    \"cumPos\": 689445510,\n  },\n  {\n    \"name\": \"chr5\",\n    \"order\": 5,\n    \"length\": 181538259,\n    \"cumPos\": 879660065,\n  },\n  {\n    \"name\": \"chr6\",\n    \"order\": 6,\n    \"length\": 170805979,\n    \"cumPos\": 1061198324,\n  },\n  {\n    \"name\": \"chr7\",\n    \"order\": 7,\n    \"length\": 159345973,\n    \"cumPos\": 1232004303,\n  },\n  {\n    \"name\": \"chr8\",\n    \"order\": 8,\n    \"length\": 145138636,\n    \"cumPos\": 1391350276,\n  },\n  {\n    \"name\": \"chr9\",\n    \"order\": 9,\n    \"length\": 138394717,\n    \"cumPos\": 1536488912,\n  },\n  {\n    \"name\": \"chr10\",\n    \"order\": 10,\n    \"length\": 133797422,\n    \"cumPos\": 1674883629,\n  },\n  {\n    \"name\": \"chr11\",\n    \"order\": 11,\n    \"length\": 135086622,\n    \"cumPos\": 1808681051,\n  },\n  {\n    \"name\": \"chr12\",\n    \"order\": 12,\n    \"length\": 133275309,\n    \"cumPos\": 1943767673,\n  },\n  {\n    \"name\": \"chr13\",\n    \"order\": 13,\n    \"length\": 114364328,\n    \"cumPos\": 2077042982,\n  },\n  {\n    \"name\": \"chr14\",\n    \"order\": 14,\n    \"length\": 107043718,\n    \"cumPos\": 2191407310,\n  },\n  {\n    \"name\": \"chr15\",\n    \"order\": 15,\n    \"length\": 101991189,\n    \"cumPos\": 2298451028,\n  },\n  {\n    \"name\": \"chr16\",\n    \"order\": 16,\n    \"length\": 90338345,\n    \"cumPos\": 2400442217,\n  },\n  {\n    \"name\": \"chr17\",\n    \"order\": 17,\n    \"length\": 83257441,\n    \"cumPos\": 2490780562,\n  },\n  {\n    \"name\": \"chr18\",\n    \"order\": 18,\n    \"length\": 80373285,\n    \"cumPos\": 2574038003,\n  },\n  {\n    \"name\": \"chr19\",\n    \"order\": 19,\n    \"length\": 58617616,\n    \"cumPos\": 2654411288,\n  },\n  {\n    \"name\": \"chr20\",\n    \"order\": 20,\n    \"length\": 64444167,\n    \"cumPos\": 2713028904,\n  },\n  {\n    \"name\": \"chr21\",\n    \"order\": 21,\n    \"length\": 46709983,\n    \"cumPos\": 2777473071,\n  },\n  {\n    \"name\": \"chr22\",\n    \"order\": 22,\n    \"length\": 50818468,\n    \"cumPos\": 2824183054,\n  },\n  {\n    \"name\": \"chrX\",\n    \"order\": 23,\n    \"length\": 156040895,\n    \"cumPos\": 2875001522,\n  },\n  {\n    \"name\": \"chrY\",\n    \"order\": 24,\n    \"length\": 57227415,\n    \"cumPos\": 3031042417,\n  },\n];\n\n\nexport const chromNameToOrder = (chrName) => {\n  const chr = CHROMS.filter(v => v[\"name\"] === chrName);\n  return chr[0][\"order\"];\n}\n\nexport const chr2Abs = (chrName, pos) => {\n  const chr = CHROMS.filter(v => v[\"name\"] === chrName);\n  return chr[0][\"cumPos\"] + Math.min(pos, chr[0][\"length\"]);\n}\n\n","import md5 from 'md5'\nimport { CHROMS, chr2Abs } from \"./chrom-utils\";\n\nexport const VCF_URL = \"https://aveit.s3.amazonaws.com/misc/sva_elements.sorted.vcf.gz\";\nexport const TBI_URL = \"https://aveit.s3.amazonaws.com/misc/sva_elements.sorted.vcf.gz.tbi\";\n\nexport const vcfRecordToJson = (vcfRecord, chrom) => {\n  const info = vcfRecord['INFO'];\n  const order = chrom[\"order\"] * 1000000000 + vcfRecord.POS\n\n  return {\n    id: md5(order).substring(0,4),\n    order: order,\n    chrom: vcfRecord.CHROM,\n    chromOrder: chrom[\"order\"],\n    start: vcfRecord.POS,\n    end: info.END[0],\n    length: info.SVLEN[0],\n    type: info.SVTYPE[0],\n    info: info,\n    posAbs: chr2Abs(vcfRecord.CHROM, +vcfRecord.POS),\n    showDetails: false\n  }\n}\n\nexport const parseLocation = (str) => {\n  const chromNames = CHROMS.map(c => c.name);\n  if(str.includes(\":\")){\n    const ss = str.split(\":\").filter(n => n); // remove empty elements\n    if(ss.length === 1 && chromNames.includes(ss[0])){\n      const chrName = ss[0];\n      return {\n        posAbs: chr2Abs(chrName,0)\n      }\n    }\n    else if(ss.length > 1 && chromNames.includes(ss[0]) && parseInt(ss[1], 10)){\n      const chrName = ss[0];\n      const pos = parseInt(ss[1], 10);\n      return {\n        posAbs: chr2Abs(chrName, pos)\n      }\n    }\n    \n  }else if(chromNames.includes(str)){\n    return {\n      posAbs: chr2Abs(str,0)\n    }\n  }\n\n  return null\n}","import React from \"react\";\nimport CircularProgress from \"react-cssfx-loading/lib/CircularProgress\";\nimport { TabixIndexedFile } from \"@gmod/tabix\";\nimport VCF from \"@gmod/vcf\";\nimport { RemoteFile } from \"generic-filehandle\";\n//import fetch from 'node-fetch'\nimport { CHROMS } from \"./chrom-utils\";\nimport { format } from \"d3-format\";\nimport { VCF_URL, TBI_URL, vcfRecordToJson, parseLocation } from \"./data-utils\";\n\nconst PAGE_SIZE = 50;\n\nclass VariantTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showFilter: false,\n      loading: true,\n      variants: [],\n      displayedVariants: [],\n      tablePage: 0,\n      filter: {}\n    };\n    this.variants = [];\n    this.loadingVariantsCalled = false;\n  }\n\n  componentDidMount() {\n    this.nextPage = this.nextPage.bind(this);\n    this.previousPage = this.previousPage.bind(this);\n    this.toggleFilter = this.toggleFilter.bind(this);\n    this.filterChange = this.filterChange.bind(this);\n    this.toggleDetails = this.toggleDetails.bind(this);\n    this.loadVariants();\n  }\n\n  nextPage() {\n    this.setState((prevState) => ({\n      tablePage: prevState.tablePage + 1\n    }));\n  }\n\n  previousPage() {\n    this.setState((prevState) => ({\n      tablePage: prevState.tablePage - 1\n    }));\n  }\n\n  toggleFilter() {\n    this.setState((prevState) => ({\n      showFilter: !prevState.showFilter\n    }));\n  }\n\n  toggleDetails(event) {\n    event.preventDefault();\n    const variantId = event.target.dataset.id;\n    const variants = this.state.displayedVariants;\n    variants.forEach(v => {\n      if(v[\"id\"] === variantId){\n        v[\"showDetails\"] = !v[\"showDetails\"];\n      }\n    })\n\n    this.setState((prevState) => ({\n      displayedVariants: variants\n    }));\n  }\n\n  filterChange(event) {\n    const filtertype = event.target.dataset.filtertype;\n    const filter = this.state.filter;\n    \n    filter[filtertype] = event.target.value;\n    if(event.target.value == \"\"){\n      delete filter[filtertype];\n    }\n    this.applyFilter(filter);\n  }\n\n  applyFilter(filter){\n    let variants = this.state.variants;\n    if(filter[\"id\"] !== undefined){\n      variants = variants.filter(v => v[\"id\"].includes(filter[\"id\"]));\n    }\n    if(filter[\"from\"] !== undefined){\n      const locFrom = parseLocation(filter[\"from\"]);\n      if(locFrom){\n        variants = variants.filter(v => {\n          return v[\"posAbs\"] >= locFrom[\"posAbs\"];\n        });\n      }\n    }\n    if(filter[\"to\"] !== undefined){\n      const locTo = parseLocation(filter[\"to\"]);\n      if(locTo){\n        variants = variants.filter(v => {\n          return v[\"posAbs\"] <= locTo[\"posAbs\"];\n        });\n      }\n    }\n\n    this.setState((prevState) => ({\n      filter: filter,\n      displayedVariants: variants\n    }));\n\n  }\n\n  loadVariants() {\n    if (this.loadingVariantsCalled) {\n      return;\n    }\n    this.loadingVariantsCalled = true;\n\n    this.vcfFile = new TabixIndexedFile({\n      filehandle: new RemoteFile(VCF_URL),\n      tbiFilehandle: new RemoteFile(TBI_URL),\n    });\n    const vcfHeader = this.vcfFile.getHeader(); // Promise\n\n    vcfHeader.then((header) => {\n      const tbiVCFParser = new VCF({ header: header });\n      const dataPromises = [];\n      CHROMS.forEach((chrom) => {\n        const dataPromise = this.vcfFile.getLines(\n          chrom[\"name\"],\n          0,\n          chrom[\"length\"],\n          (line) => {\n            const vcfRecord = tbiVCFParser.parseLine(line);\n            //console.log(vcfRecord);\n            this.variants.push(vcfRecordToJson(vcfRecord, chrom));\n          }\n        );\n        dataPromises.push(dataPromise);\n      });\n\n      Promise.all(dataPromises).then((values) => {\n        this.setState((prevState) => ({\n          loading: false,\n          variants: this.variants,\n          displayedVariants: this.variants,\n        }));\n        //console.log(this.variants);\n      });\n    });\n  }\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className=\"text-center\">\n          <CircularProgress color=\"#999999\" width=\"50px\" height=\"50px\" />\n          <div className=\"mt-2 small text-muted\">Loading variants...</div>\n        </div>\n      );\n    }\n\n    const variantRows = [];\n    const variantsToDisplay = this.state.displayedVariants.sort((a, b) => a.order - b.order);\n    const variantsToDisplaySliced = variantsToDisplay.slice(\n      this.state.tablePage * PAGE_SIZE,\n      (this.state.tablePage+1) * PAGE_SIZE\n    );\n\n    variantsToDisplaySliced.forEach((variant, index) => {\n      variantRows.push(\n        <tr className={variant.showDetails ? \"table-secondary\": \"\"}>\n          <td>{variant.id}</td>\n          <td>{variant.chrom}</td>\n          <td>{format(\",.0f\")(variant.start)}</td>\n          <td>{format(\",.0f\")(variant.end)}</td>\n          <td>{variant.length}</td>\n          <td>{variant.type}</td>\n          <td><a href=\"#\" className=\"link-primary\" data-id={variant.id} onClick={this.toggleDetails}>Details</a></td>\n        </tr>\n      );\n      if(variant.showDetails){\n\n        const infos = [];\n        for (const property in variant.info) {\n          infos.push(\n            <div className=\"col-md-4\"><strong>{property}:</strong> {variant.info[property]}</div>\n          );\n        }\n\n        variantRows.push(\n          <tr className=\"table-light\">\n            <td colSpan={7}>\n              <div className=\"row\">\n                {infos}\n              </div>\n            </td>\n          </tr>\n        );\n      }\n    });\n\n    const navButtons = [];\n    if (this.state.tablePage > 0) {\n      navButtons.push(\n        <button\n          className=\"btn btn-primary btn-sm mx-2\"\n          onClick={this.previousPage}\n        >\n          Previous\n        </button>\n      );\n    }\n\n    if (\n      variantsToDisplay.length > PAGE_SIZE &&\n      (this.state.tablePage+1) * PAGE_SIZE <= variantsToDisplay.length\n    ) {\n      navButtons.push(\n        <button className=\"btn btn-primary btn-sm\" onClick={this.nextPage}>\n          Next\n        </button>\n      );\n    }\n\n    let message = \"No variants found\";\n    if(variantsToDisplay.length > 0){\n      message = `Displaying variants ${this.state.tablePage * PAGE_SIZE + 1}-${Math.min((this.state.tablePage + 1) * PAGE_SIZE, variantsToDisplay.length)} of ${variantsToDisplay.length}`\n    }\n    \n\n    return (\n      <div>\n        <div className=\"d-flex mb-2\">\n          <div className=\"me-auto\"></div>\n          <button\n            className=\"btn btn-primary me-auto btn-sm collapse\"\n            onClick={this.toggleFilter}\n          >\n            Filter\n          </button>\n          \n          <div className=\"pt-1 mx-2\">\n            {message}\n          </div>\n          {navButtons}\n        </div>\n\n        {/* <div className={this.state.showFilter ? \"\" : \"collapse\"}>\n          <div className=\"my-3 p-3 bg-light\">\nss\n          </div>\n        </div> */}\n        <div className=\"row pb-5\">\n          <div className=\"col-md-2\">\n            <div className=\"small pt-1 text-muted\">\n            FILTER\n            </div>\n            <div className=\"mt-1 p-3 bg-light\">\n              <div className=\"mb-2\">\n                <label htmlFor=\"filter-id\" className=\"form-label small\">ID</label>\n                <input className=\"form-control form-control-sm\" id=\"filter-id\" data-filtertype=\"id\" onChange={this.filterChange} />\n              </div>\n              <div className=\"mb-2\">\n                <label htmlFor=\"filter-from\" className=\"form-label small\">From</label>\n                <input className=\"form-control form-control-sm\" id=\"filter-from\" placeholder=\"e.g. chr1:1000000\" data-filtertype=\"from\" onChange={this.filterChange} />\n              </div>\n              <div className=\"mb-2\">\n                <label htmlFor=\"filter-to\" className=\"form-label small\">To</label>\n                <input className=\"form-control form-control-sm\" id=\"filter-to\" placeholder=\"e.g. chr3:20000000\"  data-filtertype=\"to\" onChange={this.filterChange} />\n              </div>\n\n            </div>\n          </div>\n          <div className=\"col-md-10\">\n            <table className=\"table table-hover table-sm\">\n              <thead className=\"sticky-table-header bg-white\">\n                <tr>\n                  <th scope=\"col\">ID</th>\n                  <th scope=\"col\">Chomosome</th>\n                  <th scope=\"col\">Start</th>\n                  <th scope=\"col\">End</th>\n                  <th scope=\"col\">Length</th>\n                  <th scope=\"col\">SV type</th>\n                  <th scope=\"col\"></th>\n                </tr>\n              </thead>\n              <tbody>{variantRows}</tbody>\n            </table>\n          </div>\n        </div>\n       \n      </div>\n    );\n  }\n}\n\nexport default VariantTable;\n","import logo from './logo.svg';\n//import './App.css';\nimport VariantTable from './VariantTable';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n\n  return (\n    <div className='container'>\n      <h1 className='py-4'>Variants</h1>\n      <VariantTable />\n    </div>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}